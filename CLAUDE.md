# 概要
- `作業前に確認`を確認し、全てOKの場合に作業を開始してください。
  - いずれかがNGの場合、作業を停止してユーザに報告してください。
  - 全てOKの場合、`作業内容`を確認し、作業を実施してください。

# 作業前に確認
- mcpサーバ`figma-mcp`を起動していること。
- FigmaのURLが参照できること。

# 作業内容
- プロンプトの指示に従ってください
- 参照ドキュメント
  - `doc`配下のドキュメントすべて（サブディレクトリは除く）
  - `README.md`
- 参照Figma
  - `プロンプトの指示にしたがってください`
- 備考
  - Figmaのキー情報など、機密情報を回答内に表示しないこと。

# コンポーネント設計指針 (Atomic Design)
本プロジェクトでは Atomic Design を採用し、以下の規則に従ってコンポーネントを配置・実装すること。

## 1. ディレクトリ構造と責務
- `src/components/atoms/`: 最小単位のUI要素（Button, Input, Icon等）。ドメイン知識を持たず、propsのみで動作を制御する。
- `src/components/molecules/`: 複数のAtomsの組み合わせ。特定の機能（検索窓、ラベル付き入力欄等）を持つが、まだ再利用性が高い状態。
- `src/components/organisms/`: 具体的ドメイン知識を持つ複雑なUI（タイトル選択グリッド、手持ちポケモンリスト等）。API通信や複雑な状態操作は行わず、propsやStore経由でデータを受け取る。
- `src/components/templates/`: ページ全体のレイアウト。具体的なスタイル（Paper, NeoGB等）の枠組みを定義する。

## 2. 実装ルール
- **純粋性の保持**: AtomsとMoleculesは可能な限り「Presentational Component」として実装し、内部でStore（Zustand等）を参照しない。
- **一貫性**: 新しいUIを作成する際は、まず `atoms` に既存の部品がないか確認し、それらを組み合わせて作成すること。
- **ファイル命名**: 原則としてディレクトリ名に関わらずコンポーネント名はパスと一致させる（例: `src/components/atoms/button/page.tsx` ではなく、1ファイル1コンポーネントの原則を推奨する場合は適宜変更）。
- **スタイリング**: Tailwind CSSを使用し、デザイン仕様書（`master.ts` のカラー定義等）を尊重すること。

## 3. ステート管理
- URLパラメータを「Single Source of Truth」とする。
- `nuqs` を使用してクエリパラメータとUI状態を同期させる。
- ページコンポーネント (`app/` 配下) または `features/` 層が状態管理の責務を負い、下位のコンポーネントへ関数や値を渡すこと。

## 開発フローの指示
1. 実装前に必ず既存の `components` 配下を確認し、再利用可能なパーツを特定せよ。
2. 新規コンポーネント作成時は、どの階層（Atom/Molecule/Organism）に属すべきか検討し、その理由を簡潔に述べてから実装に移れ。
