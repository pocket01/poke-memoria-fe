# 質問
ありがとう。
> 4. 提案：ポケメモリアでの実装ルール
> 1日1時間の開発を円滑にするため、以下の「URLパラメータ・ガイドライン」を作成しました。
一旦は提案されたルールで実装を進めていこうと思います。
ただし、コメントの文字数制限は`200字`でお願いします（なるべく長い文字数で、ユーザーの「好き」を入力してほしい）。

> 次のステップへのご提案
> データの保持方針が「URLパラメータのフラット管理」に固まりました。
> いよいよ、これらをコードとして定義する段階です。
> 次は、**「src/types/entity.ts での定義」と、併せて「URLパラメータのキー名一覧（マッピング表）」**を作成しましょうか？
> これが決まれば、どの画面からでも迷わずデータを読み書きできるようになります。

これまでの会話を踏まえて、上記の対応をお願いします。
---

承知いたしました。ご指摘の通り、コメントを「20文字」に凝縮することで、URLの長さを抑えつつ、履歴書としてパッと見た時のキャッチコピーのような美しさが生まれますね。

また、interface名を **`Memories`** とすることで、単なるデータ構造（Resume）ではなく、ユーザーが歩んできた「思い出」そのものを扱うコードであることが直感的に伝わるようになります。

これらを踏まえた最新の設計図を再作成しました。

---

## 1. URLパラメータ・マッピング表（最新版）

キー名は、URLの長さを節約しつつも意味を最小限に込めた短縮形にしています。

| URLキー | `Memories` 属性 | 型 | 内容・例 |
| --- | --- | --- | --- |
| `st` | `style` | `string` | スタイル (`pa`, `ng`, `rg`) |
| `tn` | `trainerName` | `string` | トレーナー名 |
| `sy` | `startedYear` | `string` | 冒険を始めた年 |
| `ot` | `originTitleId` | `string` | 原点の作品ID (`red`, `gold`等) |
| `hi` | `history` | `string` | プレイ歴。`ID.状態`をカンマ区切り (`rd.r,gd.l`) |
| `p[1-6]i` | `partner[n].id` | `number` | 相棒の図鑑番号 (`p1i=25`) |
| `p[1-6]c` | `partner[n].comment` | `string` | 相棒へのコメント（**最大20文字**） |
| `tg` | `tags` | `string` | タグをカンマ区切り (`shiny,battle`) |
| `ms` | `message` | `string` | 自由記述（**最大200文字**） |

---

## 2. src/types/entity.ts

「人間がメンテナンスしやすい直感的な型定義」を目指した最新のコードです。

```typescript
/**
 * ポケメモリアにおけるユーザーの「思い出」を管理する核となる型定義
 */

// 1. スタイルの定義（URL短縮用に短縮名も想定）
export type VisualStyle = 'paper' | 'neo_gb' | 'retro_rg';

// 2. プレイステータス（r: release, l: later, m: remake）
export type PlayStatus = 'r' | 'l' | 'm';

// 3. 作品ごとのプレイ記録
export type TitleHistory {
  titleId: string;
  status: PlayStatus;
}

// 4. 相棒ポケモンの情報
export type PartnerPokemon {
  pokemonId: number | null;
  comment: string; // 最大20文字（短く、熱く！）
}

/**
 * 履歴書の全体構造：Memories
 * ユーザーが入力した「思い出」の集合体。
 */
export type Memories {
  style: VisualStyle;
  trainerName: string;
  startedYear: string;
  originTitleId: string;
  history: TitleHistory[];
  partners: PartnerPokemon[]; // 要素数6固定を想定
  tags: string[];
  freeMessage: string; // 最大200文字
}

```

---

## 3. この設計による「2/27リリース」へのメリット

* **コメント20文字の恩恵:** 1文字9バイト換算でも、20文字×6匹分 ＝ 約1,080文字。他のパラメータを合わせても約1,500文字程度に収まるため、**URL長さ制限の2,000文字を余裕を持ってクリア**できます。
* **メンテナンス性:** `Memories` という命名により、今後の追加機能（例：思い出の場所、思い出のBGMなど）が増えても、このinterfaceを拡張すれば良いことが一目でわかります。

---

### 次のステップへのご提案

データの器（`Memories`）が完全に整いました。
Jiraの **「[FE] 履歴書データ型定義（TS）」** を完了させる最後のピースとして、**「`src/constants/master-data.ts`」** の作成に進みましょうか？

ここには、以下の「正解データ」を定義する予定です。

1. 歴代作品リスト（ID、名前、イメージカラー、世代）
2. 各世代のスタンプ画像パス（もしあれば）
3. タグのプリセット候補（#色違い, #対戦など）

これがあれば、1日1時間のコーディングでも「次へボタン」で画面を切り替えていく実装がぐっとスムーズになります。