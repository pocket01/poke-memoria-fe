これまでの対話で確定した「ポケメモリア」の技術スタックとインフラ構成を、開発の「定義書」として整理しました。このドキュメントをベースに、実際のコーディングや環境構築を進めていくことができます。

---

# ポケメモリア（PokeMemoria）技術選定・インフラ仕様書

## 1. 全体アーキテクチャ

フロントエンドとバックエンドを完全に分離し、API（JSON）で通信するモダンな構成です。両システムともコンテナ化し、GCP（Google Cloud Platform）上で一元管理します。

---

## 2. フロントエンド（Front-end）

ユーザーが直接触れる「履歴書作成」と「プレビュー」を担います。

* **フレームワーク:** **Next.js (App Router)**
* 選定理由: 学習効率が高く、SSR/ISRを活用した高速なページ表示と、SNSシェア用のOGP画像生成（`@vercel/og`相当）に強いため。


* **言語:** **TypeScript**
* 選定理由: バックエンド（Go）とのデータ整合性を保ち、開発効率を最大化するため。


* **スタイリング:** **Tailwind CSS + Framer Motion**
* 選定理由: 「紙の質感」や「レトロゲームの動き」を迅速かつ柔軟に実装するため。



---

## 3. バックエンド（Back-end）

ユーザーデータ、ポケモン歴、SNS連携データなどの管理を担います。

* **言語:** **Go**
* 選定理由: 高速な実行速度とシンプルな文法。学習用としても将来性が高く、クラウドネイティブな開発に適しているため。


* **フレームワーク:** **Gin**
* 選定理由: GoのWebフレームワークとして最も普及しており、情報が豊富。軽量かつ高速。


* **ORM:** **GORM**
* 選定理由: MySQLとのやり取りを直感的に記述でき、データベースマイグレーションの管理がしやすいため。



---

## 4. データベース（Database）

* **エンジン:** **MySQL**
* 選定理由: 信頼性が高く、リレーショナルなデータ（ユーザー ↔ 履歴 ↔ 好きなポケモン）の管理に最適。



---

## 5. インフラ・デプロイ（GCP）

すべてのリソースをGoogle Cloud上に集約し、スケーラビリティと管理性を確保します。

* **ホスティング（Front & Back）:** **Cloud Run**
* 選定理由: Dockerコンテナをデプロイでき、アクセスがない時はゼロにスケールするため低コスト。フロントとバックで同じインフラ技術を使えるため、学習コストを抑えられる。


* **データベース:** **Cloud SQL (MySQL)**
* 選定理由: フルマネージドサービスであり、バックアップや運用をGoogleに任せられるため、開発に専念できる。


* **コンテナ管理:** **Artifact Registry**
* 選定理由: ビルドしたDockerイメージを安全に保存・管理するため。



---

## 6. 主要機能の実装方針

* **SNSシェア画像:** Next.js側でキャンバスを描画し、エッジ関数で画像として生成。
* **認証:** 開発初期は簡略化し、将来的には Google/X ログインを検討。
* **API設計:** Go (Gin) でREST APIを構築。フロントエンドからのリクエストに対してJSONで応答。

---

### 次のステップへのご提案

ドキュメントが整理されたことで、共通認識が完璧に整いました。いよいよ実践に移りましょう。

次は、**「フロントエンド（Next.js）で使うための、初期ディレクトリ構成とベースとなるDockerfileの作成」**をお手伝いしましょうか？

それとも、**「バックエンド（Go/Gin）でのAPIサーバーの雛形作成」**から着手しますか？